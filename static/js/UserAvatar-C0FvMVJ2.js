import{_ as E}from"./PageContainer-Ce_5fI97.js";import{E as A,l as w,A as x,c as F,e as R,g as S}from"./element-plus-D-X2S_cD.js";import{F as i,H as B}from"./@element-plus-EZCH1QQ0.js";import{u as C,e as I}from"./index-CHSBFgg9.js";import{_ as z}from"./plugin-vueexport-helper-DlAUqK2U.js";import{r as m,R as _,Q as t,o as r,M as o,c as M,u as s,U as d}from"./@vue-b6zKPkmM.js";import"./lodash-es-CxpLErxa.js";import"./async-validator-DKvM95Vc.js";import"./@vueuse-kHQqd-GD.js";import"./dayjs-Btipwhah.js";import"./axios-BDQOBJsj.js";import"./@ctrl-r5W6hzzQ.js";import"./@sxzz-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./pinia-5OhCMEEp.js";import"./vue-demi-Dq6ymT-8.js";import"./pinia-plugin-persistedstate-BQU3TZ4K.js";import"./destr-CVtkxrq9.js";import"./deep-pick-omit-CegYQlcN.js";import"./vue-router-BF8_ddcx.js";const N=["src"],V={__name:"UserAvatar",setup($){const l=m(),a=m(""),n=C();a.value=n.user.user_pic;const f=c=>{const e=new FileReader;e.readAsDataURL(c.raw),e.onload=()=>{a.value=e.result}},v=async()=>{await I(a.value),await n.getUser(),A.success("头像上传成功")};return(c,e)=>{const g=w,k=x,p=F,u=R,U=S,y=E;return r(),_(y,{title:"Avatar"},{default:t(()=>[o(U,null,{default:t(()=>[o(p,null,{default:t(()=>[o(k,{ref_key:"uploadRef",ref:l,class:"avatar-uploader","show-file-list":!1,"auto-upload":!1,"on-change":f},{default:t(()=>[a.value?(r(),M("img",{key:0,src:a.value,class:"avatar"},null,8,N)):(r(),_(g,{key:1,class:"avatar-uploader-icon"},{default:t(()=>[o(s(i))]),_:1}))]),_:1},512)]),_:1}),o(p,null,{default:t(()=>[o(u,{onClick:e[0]||(e[0]=b=>l.value.$el.querySelector("input").click()),size:"large",icon:s(i),type:"primary"},{default:t(()=>e[1]||(e[1]=[d("选择图片")])),_:1},8,["icon"]),o(u,{size:"large",icon:s(B),type:"success",onClick:v},{default:t(()=>e[2]||(e[2]=[d("上传图片")])),_:1},8,["icon"])]),_:1})]),_:1})]),_:1})}}},ae=z(V,[["__scopeId","data-v-f61c09d6"]]);export{ae as default};
