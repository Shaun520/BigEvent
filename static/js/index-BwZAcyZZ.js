const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./LoginPage--xqxJc0Q.js","./element-plus-Dvbun8KL.js","./@vue-b6zKPkmM.js","./lodash-es-CxpLErxa.js","./async-validator-DKvM95Vc.js","./@vueuse-kHQqd-GD.js","./dayjs-Btipwhah.js","./axios-BDQOBJsj.js","./@element-plus-Bha-lu0l.js","./@ctrl-r5W6hzzQ.js","./@sxzz-D9SI2xQl.js","./normalize-wheel-es-B6fDCfyv.js","../css/element-plus-DjtUaLP7.css","./vue-router-BF8_ddcx.js","./plugin-vueexport-helper-DlAUqK2U.js","./pinia-5OhCMEEp.js","./vue-demi-Dq6ymT-8.js","./pinia-plugin-persistedstate-BQU3TZ4K.js","./destr-CVtkxrq9.js","./deep-pick-omit-CegYQlcN.js","../css/LoginPage-CvLzRHtf.css","./LayoutPage-CxlkBn2r.js","../css/LayoutPage-CChuslZt.css","./ArticleManage-dPUBHKGK.js","./article-C4bL6IwE.js","../css/article-Clkqf0Ko.css","./@vueup-xcdAIoqZ.js","./quill-b29DI-Hn.js","./quill-delta-BI94RzGj.js","./fast-diff-DNDSwfiB.js","./lodash.clonedeep-CSjm15Ai.js","./lodash.isequal-C90DUZwY.js","../css/@vueup-DwXE-tNh.css","../css/ArticleManage-DgsdrHtf.css","./ArticleChannel-Bqu-JyRo.js","./UserProfile-CzI88kkl.js","./UserAvatar-CVMrDs7Z.js","./UserPassword-Cr9ATtYc.js"])))=>i.map(i=>d[i]);
import{r as g,ab as S,o as O,R as b,Q as w,M as A,u as T,am as k}from"./@vue-b6zKPkmM.js";import{d as I,c as U}from"./pinia-5OhCMEEp.js";import{s as V}from"./pinia-plugin-persistedstate-BQU3TZ4K.js";import{a as C}from"./axios-BDQOBJsj.js";import{c as D,a as B}from"./vue-router-BF8_ddcx.js";import{E,z as j,a as q}from"./element-plus-Dvbun8KL.js";import"./vue-demi-Dq6ymT-8.js";import"./destr-CVtkxrq9.js";import"./deep-pick-omit-CegYQlcN.js";import"./lodash-es-CxpLErxa.js";import"./async-validator-DKvM95Vc.js";import"./@vueuse-kHQqd-GD.js";import"./dayjs-Btipwhah.js";import"./@element-plus-Bha-lu0l.js";import"./@ctrl-r5W6hzzQ.js";import"./@sxzz-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=a(t);fetch(t.href,s)}})();const x="modulepreload",z=function(e,r){return new URL(e,r).href},y={},l=function(r,a,i){let t=Promise.resolve();if(a&&a.length>0){const o=document.getElementsByTagName("link"),n=document.querySelector("meta[property=csp-nonce]"),v=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));t=Promise.allSettled(a.map(c=>{if(c=z(c,i),c in y)return;y[c]=!0;const m=c.endsWith(".css"),R=m?'[rel="stylesheet"]':"";if(!!i)for(let p=o.length-1;p>=0;p--){const d=o[p];if(d.href===c&&(!m||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${R}`))return;const u=document.createElement("link");if(u.rel=m?"stylesheet":x,m||(u.as="script"),u.crossOrigin="",u.href=c,v&&u.setAttribute("nonce",v),document.head.appendChild(u),m)return new Promise((p,d)=>{u.addEventListener("load",p),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=o,window.dispatchEvent(n),!n.defaultPrevented)throw o}return t.then(o=>{for(const n of o||[])n.status==="rejected"&&s(n.reason);return r().catch(s)})},_=D({history:B("./"),routes:[{path:"/login",component:()=>l(()=>import("./LoginPage--xqxJc0Q.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url)},{path:"/",component:()=>l(()=>import("./LayoutPage-CxlkBn2r.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,22]),import.meta.url),redirect:"/article/manage",children:[{path:"/article/manage",component:()=>l(()=>import("./ArticleManage-dPUBHKGK.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,8,9,10,11,12,24,14,25,26,27,28,29,30,31,32,15,16,17,18,19,13,33]),import.meta.url)},{path:"/article/channel",component:()=>l(()=>import("./ArticleChannel-Bqu-JyRo.js"),__vite__mapDeps([34,1,2,3,4,5,6,7,8,9,10,11,12,24,14,25,15,16,17,18,19,13]),import.meta.url)},{path:"/user/profile",component:()=>l(()=>import("./UserProfile-CzI88kkl.js"),__vite__mapDeps([35,14,2]),import.meta.url)},{path:"user/avatar",component:()=>l(()=>import("./UserAvatar-CVMrDs7Z.js"),__vite__mapDeps([36,14,2]),import.meta.url)},{path:"/user/password",component:()=>l(()=>import("./UserPassword-Cr9ATtYc.js"),__vite__mapDeps([37,14,2]),import.meta.url)}]}]});_.beforeEach(e=>!P().token&&e.path!=="/login"?"/login":!0);const N="http://big-event-vue-api-t.itheima.net",f=C.create({baseURL:N,timeout:1e4});f.interceptors.request.use(e=>{const r=P();return r.token&&(e.headers.Authorization=r.token),e},e=>Promise.reject(e));f.interceptors.response.use(e=>e.data.code===0?e:(E.error(e.data.message||"服务异常"),Promise.reject(e.data)),e=>(e.response.status===401&&_.push("/login"),E.error(e.response.data.message||"服务异常"),Promise.reject(e)));const ce=({username:e,password:r,repassword:a})=>f.post("/api/reg",{username:e,password:r,repassword:a}),ue=({username:e,password:r})=>f.post("/api/login",{username:e,password:r}),$=()=>f.get("/my/userinfo"),P=I("user",()=>{const e=g(" "),r=o=>{e.value=o},a=()=>{e.value=""},i=g({});return{token:e,setToken:r,removeToken:a,user:i,getUser:async()=>{const o=await $();i.value=o.data.data},setUser:o=>{i.value=o}}},{persist:!0}),L=U();L.use(V);const H={__name:"App",setup(e){return(r,a)=>{const i=S("router-view"),t=q;return O(),b(t,{locale:T(j)},{default:w(()=>[A(i)]),_:1},8,["locale"])}}},h=k(H);h.use(L);h.use(_);h.mount("#app");export{ce as a,ue as b,N as c,f as i,P as u};
